{
  "recordings": [
    {
      "type": "complete",
      "request": {
        "model": "claude-haiku-4-5-20251001",
        "messages": [
          {
            "role": "user",
            "content": [
              {
                "kind": "text",
                "text": "What's the weather in SF? Use the get_weather tool."
              }
            ]
          }
        ],
        "tools": [
          {
            "name": "get_weather",
            "description": "Get current weather",
            "parameters": {
              "type": "object",
              "properties": {
                "location": {
                  "type": "string"
                }
              },
              "required": [
                "location"
              ]
            }
          }
        ],
        "tool_choice": "required",
        "max_tokens": 200
      },
      "response": {
        "id": "msg_01AXx35sEL9Ai21L8X6SoJQW",
        "model": "claude-haiku-4-5-20251001",
        "provider": "anthropic",
        "message": {
          "role": "assistant",
          "content": [
            {
              "kind": "tool_call",
              "tool_call": {
                "id": "toolu_011H4xcidDmMhwMPvqM9G5Fg",
                "name": "get_weather",
                "arguments": {
                  "location": "SF"
                }
              }
            }
          ]
        },
        "finish_reason": {
          "reason": "tool_calls",
          "raw": "tool_use"
        },
        "usage": {
          "input_tokens": 660,
          "output_tokens": 38,
          "total_tokens": 698,
          "cache_read_tokens": 0,
          "cache_write_tokens": 0
        }
      }
    },
    {
      "type": "complete",
      "request": {
        "model": "claude-haiku-4-5-20251001",
        "messages": [
          {
            "role": "user",
            "content": [
              {
                "kind": "text",
                "text": "What's the weather in SF? Use the get_weather tool."
              }
            ]
          },
          {
            "role": "assistant",
            "content": [
              {
                "kind": "tool_call",
                "tool_call": {
                  "id": "toolu_011H4xcidDmMhwMPvqM9G5Fg",
                  "name": "get_weather",
                  "arguments": {
                    "location": "SF"
                  }
                }
              }
            ]
          },
          {
            "role": "tool",
            "content": [
              {
                "kind": "tool_result",
                "tool_result": {
                  "tool_call_id": "toolu_011H4xcidDmMhwMPvqM9G5Fg",
                  "content": "72F and sunny",
                  "is_error": false
                }
              }
            ],
            "tool_call_id": "toolu_011H4xcidDmMhwMPvqM9G5Fg"
          }
        ],
        "tools": [
          {
            "name": "get_weather",
            "description": "Get current weather",
            "parameters": {
              "type": "object",
              "properties": {
                "location": {
                  "type": "string"
                }
              },
              "required": [
                "location"
              ]
            }
          }
        ],
        "max_tokens": 200
      },
      "response": {
        "id": "msg_019zkhMnewJtX8oLCXUSVHsa",
        "model": "claude-haiku-4-5-20251001",
        "provider": "anthropic",
        "message": {
          "role": "assistant",
          "content": [
            {
              "kind": "text",
              "text": "The weather in SF is **72Â°F and sunny**! Great weather out there."
            }
          ]
        },
        "finish_reason": {
          "reason": "stop",
          "raw": "end_turn"
        },
        "usage": {
          "input_tokens": 638,
          "output_tokens": 21,
          "total_tokens": 659,
          "cache_read_tokens": 0,
          "cache_write_tokens": 0
        }
      }
    }
  ],
  "metadata": {
    "recordedAt": "2026-02-24T20:32:23.203Z",
    "testName": "complete-handles-tool-result-round-trip",
    "providers": [
      "anthropic"
    ],
    "adapterName": "anthropic"
  }
}